#!/bin/bash - 
cd ~/K/risk
TMUX_SESSION='dev_riskmatch'
tmux attach -t $TMUX_SESSION || tmux new-session -d -s $TMUX_SESSION -n 'master-site' -c "$PWD/backend/master-site" \;\
     new-window -n 'master-worker' -c "$PWD/backend/master-worker" \;\
     new-window -n 'broker-site' -c "$PWD/backend/broker-site" \;\
     new-window -n 'broker-worker' -c "$PWD/backend/broker-worker" \;\
     new-window -n 'carrier-site' -c "$PWD/backend/carrier-site" \;\
     new-window -n 'carrier-worker' -c "$PWD/backend/carrier-worker" \;\
     new-window -n 'carriercalc-worker' -c "$PWD/backend/carriercalc-worker" \;\
     new-window -n 'mysql' \;\
     new-window -n 'elasticsearch' -c "$PWD/backend/carriercalc-worker" \;\
     new-window -n 'logs' -c "$PWD/backend/carriercalc-worker" \;\
     send-keys -t $TMUX_SESSION:7 'mysql -u root' C-m \;\
     send-keys -t $TMUX_SESSION:8 'ES_MAX_MEM=512m elasticsearch' C-m \;\
     send-keys -t $TMUX_SESSION:9 'touch /tmp/vim-grails-refresh.log && tail -f /tmp/vim-grails-refresh.log' C-m \;\
     split-window -v -t $TMUX_SESSION:9 \;\
     send-keys -t $TMUX_SESSION:9 'touch /tmp/vim-sbt-refresh.log && tail -f /tmp/vim-sbt-refresh.log' C-m \;\
     attach
